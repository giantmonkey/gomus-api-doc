<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>go~mus Cash Point API Documentation</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #151515;
  background-color: #ac4142;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #505050;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #d0d0d0;
}
.highlight .p, .highlight .pi {
  color: #d0d0d0;
}
.highlight .gi {
  color: #90a959;
}
.highlight .gd {
  color: #ac4142;
}
.highlight .gh {
  color: #6a9fb5;
  background-color: #151515;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #aa759f;
}
.highlight .kc {
  color: #d28445;
}
.highlight .kt {
  color: #d28445;
}
.highlight .kd {
  color: #d28445;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #90a959;
}
.highlight .sr {
  color: #75b5aa;
}
.highlight .si {
  color: #8f5536;
}
.highlight .se {
  color: #8f5536;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #6a9fb5;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #90a959;
}
.highlight .ss {
  color: #90a959;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="cash_point_api" data-languages="[]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="lang-selector">
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='https://gomus.de'>go~mus</a></li>
            <li><a href='https://github.com/tripit/slate'>Documentation powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="preparation">Preparation</h1>

<p>Before you can use the go~mus Cash Point API you will have to register a cash point account with an API key. 
Please talk to your contact person in order to get access.</p>

<p>See <a href="public_api.html">detailed documentation on Public API</a> for information on how to request the basic data 
for events, tours and tickets.</p>

<h1 id="orders">Orders</h1>

<p>An order is the final result of a checkout process. An order can consist of tickets, events or tour bookings.</p>

<p>The server-side will do a final validation and return whether our order was successful.
In a success case a JSON with the valid order will be returned.</p>

<p>All orders placed by a cash point are assumed to be payed in place.</p>

<h2 id="additional-filters">Additional filters</h2>

<p>The order endpoint for cash point users might configured with global access to all orders placed. To filter
for the orders placed by the cash point, the filter <code class="prettyprint">only_my_orders</code> is provided:</p>

<ul>
<li>only_my_orders (boolean, true|false, default: all)</li>
</ul>

<p>See <a href="reseller_api.html">detailed documentation on Reseller API</a> for information on how to create an order 
for events, tours and tickets against the orders end point.</p>

<h1 id="bookings">Bookings</h1>

<p>The cash point is able to access the global booking lists to e.g. display a by day list on the screen.</p>

<h2 id="tour-bookings">Tour bookings</h2>

<p>The cash point can access all individual tour bookings via the bookings endpoint.</p>

<h3 id="list-of-tour-bookings">List of tour bookings</h3>

<p>Provides a list of tour booking.</p>

<p><code class="prettyprint">GET https://demo.gomus.de/api/v4/tours/bookings</code></p>
<pre class="highlight shell"><code>curl <span class="s2">"https://demo.gomus.de/api/v4/tours/bookings"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"bookings"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12344</span><span class="p">,</span><span class="w">
            </span><span class="nt">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-08-29T10:00:00+02:00"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
            </span><span class="nt">"tour"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"tour_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">100177</span><span class="p">,</span><span class="w">
                </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Gruppenanmeldung"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"comment_cash_point"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
            </span><span class="nt">"count_participants"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
            </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="err">...</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"institution"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="err">...</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-28T13:03:30+02:00"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-28T13:07:02+02:00"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"canceled_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345</span><span class="p">,</span><span class="w">
            </span><span class="nt">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-08-29T10:00:00+02:00"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">120</span><span class="p">,</span><span class="w">
            </span><span class="nt">"tour"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"tour_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">100178</span><span class="p">,</span><span class="w">
                </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Gruppenführung"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"comment_cash_point"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
            </span><span class="nt">"count_participants"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
            </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="err">...</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"institution"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="err">...</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-28T13:05:40+02:00"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-08-19T12:07:04+02:00"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"canceled_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-08-19T12:06:54+02:00"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="available-filters">Available filters:</h3>

<ul>
<li>by_museum_ids (Array of museum ids), filter by museums, see museums section</li>
<li>by_exhibition_ids (Array of exhibition ids), filter by exhibitions, see exhibitions section</li>
<li>by_tour_ids (Array of tour ids), filter by tour, see tours section</li>
<li>by_categories (Array of category names), filter by categories, see categories section</li>
<li>by_status_ids (Array, any of BOOKED=20, CANCELED=50, FINISHED=25)</li>
</ul>

<h3 id="available-parameters">Available parameters:</h3>

<ul>
<li>start_at, order date (<code class="prettyprint">YYYY-MM-DD</code>), defaults to beginning of today</li>
<li>end_at, order date (<code class="prettyprint">YYYY-MM-DD</code>), defaults to end of today</li>
<li>per_page, defaults to system default (<code class="prettyprint">25</code>)</li>
<li>page, defaults to <code class="prettyprint">1</code></li>
</ul>

<h3 id="response">Response</h3>

<p>The json response contains a list of existing bookings as an array and a meta block.</p>

<ul>
<li>id (integer), the unique database id of the booking</li>
<li>start_time (iso8601), the booking&rsquo;s timestamp</li>
<li>duration (integer), duration in minutes</li>
<li><p>tour (object), contains information about the bookings tour</p></li>
<li><p>customer (object)</p></li>
<li><p>institution (object)</p></li>
<li><p>comment_cash_point (string)</p></li>
<li><p>status (string)</p></li>
<li><p>count_participants (string)</p></li>
</ul>

<h3 id="details-of-a-tour-booking">Details of a tour booking</h3>

<p>Provides details for a single tour booking.</p>

<p><code class="prettyprint">GET https://demo.gomus.de/api/v4/tours/bookings/:id</code></p>
<pre class="highlight shell"><code>curl <span class="s2">"https://demo.gomus.de/api/v4/tours/bookings/1"</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"booking"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345</span><span class="p">,</span><span class="w">
        </span><span class="nt">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-08-29T10:00:00+02:00"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
        </span><span class="nt">"tour"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"tour_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">100177</span><span class="p">,</span><span class="w">
            </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Gruppenanmeldung"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"comment_cash_point"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
        </span><span class="nt">"count_participants"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
        </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="err">...</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"institution"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="err">...</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-28T13:03:30+02:00"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-28T13:07:02+02:00"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"canceled_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"prices"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">9997</span><span class="p">,</span><span class="w">
                </span><span class="nt">"booking_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345</span><span class="p">,</span><span class="w">
                </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Entgelt"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Gruppenpreis"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="nt">"price_cents"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nt">"total_price_cents"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-28T13:04:17+02:00"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">9998</span><span class="p">,</span><span class="w">
                </span><span class="nt">"booking_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345</span><span class="p">,</span><span class="w">
                </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Zusätzlicher Pauschalpreis"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ein zusätzlicher Pauschalpreis"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="nt">"price_cents"</span><span class="p">:</span><span class="w"> </span><span class="mi">9000</span><span class="p">,</span><span class="w">
                </span><span class="nt">"total_price_cents"</span><span class="p">:</span><span class="w"> </span><span class="mi">9000</span><span class="p">,</span><span class="w">
                </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-28T13:04:17+02:00"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<h3 id="response">Response</h3>

<p>The json response contains details for a booking like in the list view, but with a few additional information.</p>

<ul>
<li>prices: an array of price objects, containing both default and custom booking prices.</li>
</ul>

<p>&hellip;</p>

<h2 id="changing-prices">Changing prices</h2>

<p>It is possible to add and update custom booking prices unless the booking has been payed already. It is not possible 
to change the default prices but e.g. give a discount and add additional custom items.</p>

<p>Note that the cash point has only access to customer booking prices.</p>

<h3 id="adding-prices">Adding prices</h3>

<p><code class="prettyprint">POST https://demo.gomus.de/api/v4/tours/bookings/:booking_id/prices</code></p>

<blockquote>
<p>Write definition of order into /tmp/prices.json before executing shell command.</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"https://demo.gomus.de/api/v4/tours/bookings/1/prices"</span>
    -XPOST --data <span class="s2">"@/tmp/prices.json"</span>
    -H <span class="s2">"Content-Type: application/json"</span>
    -H <span class="s2">"Authorization: Bearer meowmeowmeow"</span>
</code></pre>

<blockquote>
<p>The above command assumes the prices.json JSON is structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="w">  </span><span class="p">{</span><span class="w">
     </span><span class="nt">"prices"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
         </span><span class="p">{</span><span class="w">
             </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Zusätzlicher Pauschalpreis"</span><span class="p">,</span><span class="w">
             </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ein zusätzlicher Pauschalpreis"</span><span class="p">,</span><span class="w">
             </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
             </span><span class="nt">"price_cents"</span><span class="p">:</span><span class="w"> </span><span class="mi">9000</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="p">{</span><span class="w">
             </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Zusätzliche Audioguides"</span><span class="p">,</span><span class="w">
             </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"zusätzliche Audioguides"</span><span class="p">,</span><span class="w">
             </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
             </span><span class="nt">"price_cents"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="w">
         </span><span class="p">}</span><span class="w">
     </span><span class="p">]</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span></code></pre>

<p>The response will contain a http ok or an error.</p>

<h3 id="updating-prices">Updating prices</h3>

<p>Custom prices can be updated like this:</p>

<p><code class="prettyprint">PUT https://demo.gomus.de/api/v4/tours/bookings/:booking_id/prices/:id</code></p>

<blockquote>
<p>Write definition of order into /tmp/price_update.json before executing shell command.</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"https://demo.gomus.de/api/v4/tours/bookings/1/prices/9998"</span>
    -XPUT --data <span class="s2">"@/tmp/price_update.json"</span>
    -H <span class="s2">"Content-Type: application/json"</span>
    -H <span class="s2">"Authorization: Bearer meowmeowmeow"</span>
</code></pre>

<blockquote>
<p>The above command assumes the price_update.json JSON is structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"price"</span><span class="p">:</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pauschalpreis Update"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hab mich vertippt"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nt">"price_cents"</span><span class="p">:</span><span class="w"> </span><span class="mi">8000</span><span class="w">
       </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>The response will contain the updated price object or an error.</p>

<h3 id="deleting-prices">Deleting prices</h3>

<p>A custom price can be updated like this:</p>

<p><code class="prettyprint">DELETE https://demo.gomus.de/api/v4/tours/bookings/:booking_id/prices/:id</code></p>
<pre class="highlight shell"><code>curl <span class="s2">"https://demo.gomus.de/api/v4/tours/bookings/1/prices/9998"</span>
    -XDELETE
    -H <span class="s2">"Content-Type: application/json"</span>
    -H <span class="s2">"Authorization: Bearer meowmeowmeow"</span>
</code></pre>

<p>The response will contain a http ok or an error.</p>

<h2 id="giving-feedback">Giving feedback</h2>

<p>The cash point is able to set a feedback for a tour booking, e.g. if it took place, how many participants took part
and a generic comment.</p>

<h3 id="setting-feedback">Setting feedback</h3>

<p><code class="prettyprint">PUT https://demo.gomus.de/api/v4/tours/bookings/:id/feedback</code></p>

<blockquote>
<p>Write definition of order into /tmp/feedback.json before executing shell command.</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"https://demo.gomus.de/api/v4/tours/bookings/1/feedback"</span>
    -XPUT --data <span class="s2">"@/tmp/feedback.json"</span>
    -H <span class="s2">"Content-Type: application/json"</span>
    -H <span class="s2">"Authorization: Bearer meowmeowmeow"</span>
</code></pre>

<blockquote>
<p>The above command assumes the prices.json JSON is structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"feedback"</span><span class="p">:</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eine tolle Führung, der Kunde war sehr zufrieden!"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"participants"</span><span class="p">:</span><span class="w"> </span><span class="s2">"25"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"took_place"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="w">
        </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>The response will contain the feedback or an error.</p>

<h3 id="getting-feedback">Getting feedback</h3>

<p>Custom prices can be updated like this:</p>

<p><code class="prettyprint">GET https://demo.gomus.de/api/v4/tours/bookings/:id/feedback</code></p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"feedback"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"took_place"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eine tolle Führung, der Kunde war sehr zufrieden!"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"participants"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w">
        </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-08-30T09:35:17+02:00"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>The response will contain the current feedback.</p>

<h3 id="clearing-feedback">Clearing feedback</h3>

<p>The feedback can be cleared like this:</p>

<p><code class="prettyprint">DELETE https://demo.gomus.de/api/v4/tours/bookings/:id/feedback</code></p>
<pre class="highlight shell"><code>curl <span class="s2">"https://demo.gomus.de/api/v4/tours/bookings/:id/feedback"</span>
    -XDELETE
    -H <span class="s2">"Content-Type: application/json"</span>
    -H <span class="s2">"Authorization: Bearer meowmeowmeow"</span>
</code></pre>

<p>The response will contain a http ok or an error.</p>

          <h1 id="errors">Errors</h1>

<p>The go~mus API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; The API endpoint requested is for administrators only</td>
</tr>
<tr>
<td>404</td>
<td>Not Found &ndash; The specified record could not be found</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed &ndash; You tried to access an API endpoint with an invalid method</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests &ndash; You&rsquo;re requesting too much! Slow down!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error &ndash; We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable &ndash; We&rsquo;re temporarially offline for maintanance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
          </div>
      </div>
    </div>
  </body>
</html>
